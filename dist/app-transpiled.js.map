{"version":3,"sources":["app-concat.es6"],"names":[],"mappings":"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","file":"app-transpiled.js","sourcesContent":["// This inits the game\n\n// Read in the map\nfunction readMapFile(file)\n{\n\t$.get(file, function(data){\n\t\tvar wholeData = data;\n\t\t// A map file will have a width, a height and the matrix (map) separated by commas\n\t\tvar array = wholeData.split(\",\");\n\t\t// Save width and height\n\t\twindow.levelWidth = array[0];\n\t\twindow.levelHeight = array[1];\n\t\t// Split by line breaks\n\t\tvar map = array[2].split(\"\\n\");\n\t\t// Remove the frikkin first and last empty \"arrays\"\n\t\tmap.splice(0,1);\n\t\tmap.splice(window.levelHeight,1);\n\t\t// Split by spaces\n\t\t$.each(map, function(i, val){\n\t\t\tmap[i] = map[i].split(\" \");\n\t\t});\n\t\t// Save to global\n\t\twindow.gamemap = map;\n\t});\n}\n\n/**\n * Reads in the height map file which is a matrix with the same dimensions as the map file\n * @param file the heightmap file\n */\nfunction readHeightmapFile(file)\n{\n\t$.get(file, function(data){\n\t\tvar map = data.split(\"\\n\");\n\t\t$.each(map, function(i, val){\n\t\t\tmap[i] = map[i].split(\" \");\n\t\t});\n\t\t$.each(map, function(i, val){\n\t\t\t$.each(val, function(j, value){\n\t\t\t\tmap[i][j] = parseInt(value);\n\t\t\t});\n\t\t});\n\t\twindow.heightmap = map;\n\t});\n}\n\n\t\n// This function init's the game assets\nfunction init(){\n\treadMapFile( \"./Content/gamefile.txt\" );\n\treadHeightmapFile( \"./Content/heightmap.txt\" );\n\tlet cam = new Camera(64, 64, 15);\n\twindow.cam = cam;\n\tlet ghost = new Ghost(64, 64, 2, 2, 6, 4, 100);\n\twindow.ghost = ghost;\n}\n\n\n// Point consists of x,y in pixel an x,y in matrix coordinates\nclass Point {\n\tconstructor(matX, matY) {\n\t\tthis._matX = matX;\n\t\tthis._matY = matY;\n\t\tthis._pxX = 0;\n\t\tthis._pxY = 0;\n\t\t// Calculate the pos in px\n\t\tthis.matToPx(matX, matY);\n\t}\n\tget matX() {\n\t\treturn this._matX;\n\t}\n\tget matY() {\n\t\treturn this._matY;\n\t}\n\tset matX(matX) {\n\t\tthis._matX = matX;\n\t}\n\tset matY(matY) {\n\t\tthis._matY = matY;\n\t}\n\tget pxX() {\n\t\treturn this._pxX;\n\t}\n\tget pxY() {\n\t\treturn this._pxY;\n\t}\n\tset pxX(pxX) {\n\t\tthis._pxX = pxX;\n\t}\n\tset pxY(pxY) {\n\t\tthis._pxY = pxY;\n\t}\n\n\t// matrix -> px\n\tmatToPx( matX, matY ) {\n\t\tthis._pxX= (matX - matY) * (window.tileWidth / 2);\n\t\tthis._pxY = (matX + matY) * (window.tileHeight / 2) + window.tileHeight / 2;\n\t}\n\t// px -> matrix\n\tpxToMat(pxX, pxY) {\n\t\t// I HAVE REMOVED THE TYPECAST RIGHT BEFORE THE FIRST, IT WAS A (INT) !!!!\n\t\tthis._matX = (pxX / (window.tileWidth / 2) + pxY / (window.tileHeight / 2)) / 2;\n\t\tthis._matY = (pxY / (window.tileHeight / 2) - pxX / (window.tileWidth / 2)) / 2;\n\t}\n\n}\n\n\n\n// This represents the viewport the player has\nclass Camera {\n\tconstructor(x,y,ms) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._ms = ms;\n\t}\n\tget x() {\n\t\treturn this._x;\n\t}\n\tget y() {\n\t\treturn this._y;\n\t}\n\tget ms() {\n\t\treturn this._ms;\n\t}\n\tset x(newX) {\n\t\tthis._x = newX;\n\t}\n\tset y(newY) {\n\t\tthis._y = newY;\n\t}\n\tset ms(newMs){\n\t\tthis._ms = newMs;\n\t}\n\tmoveView(dx,dy) {\n\t\tthis._x += dx;\n\t\tthis._y += dy;\n\t}\n\t// Center the camera on (x,y)\n\tcenterView(x,y) {\n\t\tthis._x = x-canvas.width/2;\n\t\tthis._y = y-canvas.height/2;\n\t}\n\t// Reset the View\n\tresetView() {\n\t\tthis._x = 64;\n\t\tthis._y = 64;\n\t}\n}\n\n\nvar test;\n\n// It's a ghost !\nclass Ghost {\n\t// framesCols = total columns of frames, framesRows = total rows of frames on the sheet\n\t// animSpeed = delay for frame jumps\n\tconstructor(width, height, matX, matY, frameCols, frameRows, animSpeed){\n\t\tthis._pos = new Point(matX, matY);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._frameCols = frameCols;\n\t\tthis._frameRows = frameRows;\n\t\tthis._curFrameCol = 0;\n\t\tthis._curFrameRow = 0;\n\t\tthis._animSpeed = animSpeed;\n\t\tthis._sinceLastAnim = 0;\n\t}\n\tget matX() {\n\t\treturn this._pos._matX;\n\t}\n\tget matY() {\n\t\treturn this._pos._matY;\n\t}\n\tset matX(newX) {\n\t\tthis._pos._matX = newX;\n\t}\n\tset matY(newY) {\n\t\tthis._pos._matY = newY;\n\t}\n\tget pxX() {\n\t\treturn this._pos._pxX;\n\t}\n\tget pxY() {\n\t\treturn this._pos._pxY;\n\t}\n\tset pxX(newX) {\n\t\tthis._pos._pxX = newX;\n\t}\n\tset pxY(newY) {\n\t\tthis._pos._pxY = newY;\n\t}\n\t// Move me!\n\tmovePx(dx,dy) {\n\t\tthis._pos._pxX += dx;\n\t\tthis._pos._pxY += dy;\n\t}\n\t// Jump to the next frame if it's time\n\tanimate(timePassed) {\n\t\tif(this._sinceLastAnim + timePassed >= this._animSpeed) {\n\t\t\tthis._sinceLastAnim = 0;\n\t\t\tthis._curFrameCol++;\n\t\t\tif( this._curFrameCol >= this._frameCols ){\n\t\t\t\tthis._curFrameCol = 0;\n\t\t\t\tthis._curFrameRow++;\n\t\t\t\tif( this._curFrameRow >= this._frameRows ){\n\t\t\t\t\tthis._curFrameRow = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._sinceLastAnim += timePassed;\n\t\t}\n\t}\n\n\t// Animate and draw the ghost, gets the time passed since last draw\n\tdraw(timePassed) {\n\t\tthis.animate(timePassed);\n\t\tctx.drawImage(ghostImage, this._width*this._curFrameCol, this._height*this._curFrameRow, \n\t\t\t\t\t\tthis._width, this._height, this._pos._pxX+window.cam.x - this._width*window.scalingFac/2, \n\t\t\t\t\t\tthis._pos._pxY+window.cam.y - this._height*window.scalingFac, this._width*window.scalingFac, this._height*window.scalingFac);\n\t}\n}\n\n\n/**\n * // Scaling factor - scale the pixmaps up\n * @type {number}\n */\nwindow.scalingFac = 2;\n/**\n *  tilewidth & height of the default tile\n * @type {number}\n */\nwindow.tileWidth = 64;\nwindow.tileHeight = 32;\n/**\n * Coord's of a click\n * @type {number}\n */\nwindow.clickX = 0;\nwindow.clickY = 0;\n\n/**\n * Canvas\n * @type {Element}\n */\nvar canvas = document.getElementById(\"myCanvas\");\nvar ctx = canvas.getContext(\"2d\");\n\nwindow.addEventListener('resize', resizeCanvas, false);\n\n// Time keeper\nvar time;\nvar test;\n\n// Images\nvar iso_grid_spooky = new Image();\nvar iso_obstacle_spooky_box_closed = new Image();\nvar iso_highlighted_grid = new Image();\nvar ghostImage = new Image();\niso_grid_spooky.src = './Content/iso_grid_spooky.png';\niso_obstacle_spooky_box_closed.src = './Content/iso_obstacle_spooky_box_closed.png';\niso_highlighted_grid.src = './Content/iso_highlighted_grid.png';\nghostImage.src = './Content/ghost_2.png';\n\n/**\n * Resize the canvas when needed\n */\nfunction resizeCanvas() {\n\twindow.innerWidth <= 800 ? canvas.width = window.innerWidth : canvas.width = 800;\n\twindow.innerHeight <= 640 ? canvas.height = window.innerHeight : canvas.height = 640;\n}\n\n/**\n * Draw the terrain\n */\nfunction drawGround() {\n\tvar x = 0;\n\tvar y = 0;\n\tfor(var i=0; i<window.levelHeight; i++) {\n\t\tfor(var j=0; j<window.levelWidth; j++) {\n\t\t\t// Draw the ground and the obstacles\n\t\t\tif(window.gamemap[i][j] == 0) {\n\t\t\t\tx = (j-i)*(window.tileWidth*window.scalingFac/2)-(window.tileWidth*window.scalingFac/2)+window.cam.x;\n\t\t\t\ty = (j+i)*(window.tileHeight*window.scalingFac/2)-32*window.scalingFac+window.heightmap[i][j]+window.cam.y;\n\t\t\t\tctx.drawImage(iso_grid_spooky, x, y, 64*window.scalingFac, 64*window.scalingFac);\n\t\t\t} else {\n\t\t\t\tx = (j-i)*(window.tileWidth*window.scalingFac/2)-(window.tileWidth*window.scalingFac/2)+window.cam.x;\n\t\t\t\ty = (j+i)*(window.tileHeight*window.scalingFac/2)-64*window.scalingFac+window.heightmap[i][j]+window.cam.y;\n\t\t\t\tctx.drawImage(iso_obstacle_spooky_box_closed, x, y, 64*window.scalingFac, 96*window.scalingFac);\n\t\t\t}\n\t\t}\n\t}\n    ctx.drawImage(iso_highlighted_grid, window.pointerX, window.pointerY, 64*window.scalingFac, 32*window.scalingFac);\n}\n\n/**\n * Draw a number at (x,y)\n * @param title\n * @param num\n * @param x\n * @param y\n */\nfunction drawNumber(title, num, x, y) {\n\tctx.font = \"16px Arial\";\n\tctx.fillStyle = \"#FA58FA\";\n\tctx.fillText(title+num, x, y);\n}\n\n// This be the main game loop\nfunction draw() {\n\t// Handle the timing, dt == delta\n\tvar now = new Date().getTime(),\n\ttimeDt = now - (time || now);\n\ttime = now;\n\n\t// Clear the canvas and draw stuff\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\tdrawGround();\n\twindow.ghost.draw(timeDt);\n\tdrawNumber( \"Ghost.pos.matX: \", window.ghost.matX, canvas.width - 195, 40 );\n\tdrawNumber( \"Ghost.pos.matY: \", window.ghost.matY, canvas.width - 195, 60 );\n\tdrawNumber( \"Ghost.pos.pxX: \", window.ghost.pxX, canvas.width - 195, 80 );\n\tdrawNumber( \"Ghost.pos.pxY: \", window.ghost.pxY, canvas.width - 195, 100 );\n\tdrawNumber( \"touchDistX: \", window.touchDistX,8,45);\n\tdrawNumber( \"touchDistY: \", window.touchDistY,8,65);\n\tdrawNumber( \"timeDt: \", timeDt,8,85);\n\tdrawNumber( \"FPS: \", Math.floor(1000/timeDt),8,105);\n\tdrawNumber( \"clickX: \", window.clickX,8,135);\n\tdrawNumber( \"clickY: \", window.clickY,8,155);\n\t// Check for cam movement input\n\tvar dx = 0;\n\tvar dy = 0;\n\t// Keys\n\tif(rightPressed) {\n\t\tdx = -1*window.cam.ms;\n\t}\n\telse if(leftPressed) {\n\t\tdx = window.cam.ms;\n\t}\n\tif(upPressed) {\n\t\tdy = window.cam.ms;\n\t}\n\telse if(downPressed) {\n\t\tdy = -1*window.cam.ms;\n\t}\n\t//Touch\n\tif( Math.abs(window.touchDistX) > 45 ){\n\t\tif( window.touchDistX > 0 ) {\n\t\t\tdx = -1*window.cam.ms;\n\t\t\tif( window.touchDistX > window.cam.ms ) \n\t\t\t\twindow.touchDistX-=window.cam.ms;\n\t\t\telse\n\t\t\t\twindow.touchDistX = 0;\n\t\t} else {\n\t\t\tdx = window.cam.ms;\n\t\t\tif( -1*window.touchDistX > window.cam.ms ) \n\t\t\t\twindow.touchDistX+=window.cam.ms;\n\t\t\telse\n\t\t\t\twindow.touchDistX = 0;\n\t\t}\n\t}\n\tif( Math.abs(window.touchDistY) > 45 ){\n\t\tif( window.touchDistY > 0 ) {\n\t\t\tdy = -1*window.cam.ms;\n\t\t\t//dx = window.touchDistX;\n\t\t\tif( window.touchDistY > window.cam.ms ) \n\t\t\t\twindow.touchDistY-=window.cam.ms;\n\t\t\telse\n\t\t\t\twindow.touchDistY = 0;\n\t\t} else {\n\t\t\tdy = window.cam.ms;\n\t\t\tif( -1*window.touchDistY > window.cam.ms ) \n\t\t\t\twindow.touchDistY+=window.cam.ms;\n\t\t\telse\n\t\t\t\twindow.touchDistY = 0;\n\t\t}\n\t}\n\t// Move the cam\n\tif( dx != 0 || dy != 0 ) {\n\t\twindow.cam.moveView(dx,dy);\n\t}\n\n\t// DO IT\n\trequestAnimationFrame(draw);\n}\n\n// Initialize everything\ninit();\n// Resize canvas\nresizeCanvas();\n// Start loop\ndraw();\t\n\n// This handles the user input\n\n// Input booleans\nvar rightPressed = false;\nvar leftPressed = false;\nvar upPressed = false;\nvar downPressed = false;\nvar touchStartX = 0;\nvar touchStartY = 0;\nwindow.touchDistX = 0;\nwindow.touchDistY = 0;\nwindow.pointerX = 0;\nwindow.pointerY = 0;\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\ndocument.addEventListener(\"mousemove\", mouseMoveHandler, false);\ndocument.addEventListener(\"touchstart\", touchDown, false);\ndocument.addEventListener(\"touchend\", touchUp, false);\ndocument.addEventListener(\"touchmove\", touchMove, false);\n\ncanvas.addEventListener(\"click\", clickHandler, false);\n\n// CARE - this only works for the current position / sizing of canvas!\nfunction clickHandler(e) {\n    window.clickX = e.pageX - (window.innerWidth - canvas.width) / 2 - window.cam.x;\n    window.clickY = e.pageY - window.cam.y;\n//\twindow.clickX = e.pageX - window.cam.x;\n//\twindow.clickY = e.pageY - window.cam.y;\n}\n\nfunction keyDownHandler(e) {\n    // right arrow and D\n    if (e.keyCode == 39 || e.keyCode == 68) {\n        rightPressed = true;\n    }\n    // left arrow and A\n    else if (e.keyCode == 37 || e.keyCode == 65) {\n        leftPressed = true;\n    }\n    // up arrow and W\n    if (e.keyCode == 38 || e.keyCode == 87) {\n        upPressed = true;\n    }\n    // down arrow and S\n    else if (e.keyCode == 40 || e.keyCode == 83) {\n        downPressed = true;\n    }\n    // key R - reset the camera offset\n    if (e.keyCode == 82) {\n        window.cam.resetView();\n    }\n}\nfunction keyUpHandler(e) {\n    if (e.keyCode == 39 || e.keyCode == 68) {\n        rightPressed = false;\n    }\n    else if (e.keyCode == 37 || e.keyCode == 65) {\n        leftPressed = false;\n    }\n    if (e.keyCode == 38 || e.keyCode == 87) {\n        upPressed = false;\n    }\n    else if (e.keyCode == 40 || e.keyCode == 83) {\n        downPressed = false;\n    }\n}\n\nfunction mouseMoveHandler(e) {\n    var relativeX = e.clientX - canvas.offsetLeft;\n    var relativeY = e.clientY - canvas.offsetTop;\n    if (relativeX > 0 && relativeX < canvas.width) {\n        if (relativeY > 0 && relativeY < canvas.height) {\n            window.pointerX = relativeX;\n            window.pointerY = relativeY;\n        }\n    }\n}\n// Handle the touch events\nfunction touchDown(e) {\n    var touchObj = e.changedTouches[0]; // reference first touch point\n    touchStartX = parseInt(touchObj.clientX); // get x position of touch point relative to left edge of browser\n    touchStartY = parseInt(touchObj.clientY); // get y position of touch point relative to left edge of browser\n    e.preventDefault();\n}\nfunction touchUp(e) {\n    window.touchDistX = 0;\n    window.touchDistY = 0;\n    e.preventDefault();\n}\nfunction touchMove(e) {\n    var touchObj = e.changedTouches[0];\n    window.touchDistX = parseInt(touchObj.clientX) - touchStartX;\n    window.touchDistY = parseInt(touchObj.clientY) - touchStartY;\n    e.preventDefault();\n}\n\n"]}