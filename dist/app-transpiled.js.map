{"version":3,"sources":["app-concat.es6"],"names":[],"mappings":"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","file":"app-transpiled.js","sourcesContent":["// This inits the game\n\n// Read in the map\nfunction readMapFile(file) {\n    $.get(file, function (data) {\n        var wholeData = data;\n        // A map file will have a width, a height and the matrix (map) separated by commas\n        var array = wholeData.split(\",\");\n        // Save width and height\n        window.levelWidth = array[0];\n        window.levelHeight = array[1];\n        // Split by line breaks\n        var map = array[2].split(\"\\n\");\n        // Remove the frikkin first and last empty \"arrays\"\n        map.splice(0, 1);\n        map.splice(window.levelHeight, 1);\n        // Split by spaces\n        $.each(map, function (i) {\n            map[i] = map[i].split(\" \");\n        });\n        // Save to global\n        window.gamemap = map;\n    });\n}\n\n/**\n * Reads in the height map file which is a matrix with the same dimensions as the map file\n * @param file the heightmap file\n */\nfunction readHeightmapFile(file) {\n    $.get(file, function (data) {\n        var map = data.split(\"\\n\");\n        $.each(map, function (i, val) {\n            map[i] = map[i].split(\" \");\n        });\n        $.each(map, function (i, val) {\n            $.each(val, function (j, value) {\n                map[i][j] = parseInt(value);\n            });\n        });\n        window.heightmap = map;\n    });\n}\n\n\n// This function init's the game assets\nfunction init() {\n    readMapFile(\"./Content/gamefile.txt\");\n    readHeightmapFile(\"./Content/heightmap.txt\");\n    let cam = new Camera(64, 64, 15);\n    window.cam = cam;\n    let ghost = new Ghost(64, 64, 2, 2, 6, 4, 100);\n    window.ghost = ghost;\n}\n\n// Point consists of x,y in pixel an x,y in matrix coordinates\nclass Point {\n    constructor(matX, matY) {\n        this._matX = matX;\n        this._matY = matY;\n        this._pxX = 0;\n        this._pxY = 0;\n        // Calculate the pos in px\n        this.matToPx(matX, matY);\n    }\n\n    get matX() {\n        return this._matX;\n    }\n\n    get matY() {\n        return this._matY;\n    }\n\n    set matX(matX) {\n        this._matX = matX;\n    }\n\n    set matY(matY) {\n        this._matY = matY;\n    }\n\n    get pxX() {\n        return this._pxX;\n    }\n\n    get pxY() {\n        return this._pxY;\n    }\n\n    set pxX(pxX) {\n        this._pxX = pxX;\n    }\n\n    set pxY(pxY) {\n        this._pxY = pxY;\n    }\n\n    // matrix -> px\n    matToPx(matX, matY) {\n        this._pxX = (matX - matY) * (window.tileWidth / 2);\n        this._pxY = (matX + matY) * (window.tileHeight / 2) + window.tileHeight / 2;\n    }\n\n    // px -> matrix\n    pxToMat(pxX, pxY) {\n        // I HAVE REMOVED THE TYPECAST RIGHT BEFORE THE FIRST, IT WAS A (INT) !!!!\n        this._matX = Math.floor((pxX / (window.tileWidth / 2) + pxY / (window.tileHeight / 2)) / 2);\n        this._matY = Math.floor((pxY / (window.tileHeight / 2) - pxX / (window.tileWidth / 2)) / 2);\n    }\n\n}\n\n\n\n// This represents the viewport the player has\nclass Camera {\n    constructor(x, y, ms) {\n        this._x = x;\n        this._y = y;\n        this._ms = ms;\n    }\n\n    get x() {\n        return this._x;\n    }\n\n    get y() {\n        return this._y;\n    }\n\n    get ms() {\n        return this._ms;\n    }\n\n    set x(newX) {\n        this._x = newX;\n    }\n\n    set y(newY) {\n        this._y = newY;\n    }\n\n    set ms(newMs) {\n        this._ms = newMs;\n    }\n\n    moveView(dx, dy) {\n        this._x += dx;\n        this._y += dy;\n    }\n\n    // Center the camera on (x,y)\n    centerView(x, y) {\n        this._x = x - canvas.width / 2;\n        this._y = y - canvas.height / 2;\n    }\n\n    // Reset the View\n    resetView() {\n        this._x = 64;\n        this._y = 64;\n    }\n}\n\n\nvar test;\n\n// It's a ghost !\nclass Ghost {\n    // framesCols = total columns of frames, framesRows = total rows of frames on the sheet\n    // animSpeed = delay for frame jumps\n    constructor(width, height, matX, matY, frameCols, frameRows, animSpeed) {\n        this._pos = new Point(matX, matY);\n        this._width = width;\n        this._height = height;\n        this._frameCols = frameCols;\n        this._frameRows = frameRows;\n        this._curFrameCol = 0;\n        this._curFrameRow = 0;\n        this._animSpeed = animSpeed;\n        this._sinceLastAnim = 0;\n    }\n\n    get matX() {\n        return this._pos._matX;\n    }\n\n    get matY() {\n        return this._pos._matY;\n    }\n\n    set matX(newX) {\n        this._pos._matX = newX;\n    }\n\n    set matY(newY) {\n        this._pos._matY = newY;\n    }\n\n    get pxX() {\n        return this._pos._pxX;\n    }\n\n    get pxY() {\n        return this._pos._pxY;\n    }\n\n    set pxX(newX) {\n        this._pos._pxX = newX;\n    }\n\n    set pxY(newY) {\n        this._pos._pxY = newY;\n    }\n\n    // Move me!\n    movePx(dx, dy) {\n        this._pos._pxX += dx;\n        this._pos._pxY += dy;\n    }\n\n    // Jump to the next frame if it's time\n    animate(timePassed) {\n        if (this._sinceLastAnim + timePassed >= this._animSpeed) {\n            this._sinceLastAnim = 0;\n            this._curFrameCol++;\n            if (this._curFrameCol >= this._frameCols) {\n                this._curFrameCol = 0;\n                this._curFrameRow++;\n                if (this._curFrameRow >= this._frameRows) {\n                    this._curFrameRow = 0;\n                }\n            }\n        } else {\n            this._sinceLastAnim += timePassed;\n        }\n    }\n\n    // Animate and draw the ghost, gets the time passed since last draw\n    draw(timePassed) {\n        this.animate(timePassed);\n        ctx.drawImage(ghostImage, this._width * this._curFrameCol, this._height * this._curFrameRow,\n            this._width, this._height, this._pos._pxX + window.cam.x - this._width * window.scalingFac / 2,\n            this._pos._pxY + window.cam.y - this._height * window.scalingFac, this._width * window.scalingFac, this._height * window.scalingFac);\n    }\n}\n\n\n/**\n * // Scaling factor - scale the pixmaps up\n * @type {number}\n */\nwindow.scalingFac = 2;\n/**\n *  tilewidth & height of the default tile\n * @type {number}\n */\nwindow.tileWidth = 64;\nwindow.tileHeight = 32;\n/**\n * Coord's of a click\n * @type {number}\n */\nwindow.clickX = 0;\nwindow.clickY = 0;\n\n/**\n * Where is the cursor atm?\n * @type {Point}\n */\nwindow.mousePointer = new Point(0, 0);\n\n/**\n * Canvas\n * @type {Element}\n */\nvar canvas = document.getElementById(\"myCanvas\");\nvar ctx = canvas.getContext(\"2d\");\n\nwindow.addEventListener('resize', resizeCanvas, false);\n\n// Time keeper\nvar time;\nvar test;\n\n// Images\nvar iso_grid_spooky = new Image();\nvar iso_obstacle_spooky_box_closed = new Image();\nvar iso_highlighted_grid = new Image();\nvar ghostImage = new Image();\niso_grid_spooky.src = './Content/iso_grid_spooky.png';\niso_obstacle_spooky_box_closed.src = './Content/iso_obstacle_spooky_box_closed.png';\niso_highlighted_grid.src = './Content/iso_highlighted_grid.png';\nghostImage.src = './Content/ghost_2.png';\n\n/**\n * Resize the canvas when needed\n */\nfunction resizeCanvas() {\n    window.innerWidth <= 800 ? canvas.width = window.innerWidth : canvas.width = 800;\n    window.innerHeight <= 640 ? canvas.height = window.innerHeight : canvas.height = 640;\n}\n\n/**\n * Draw the terrain\n */\nfunction drawGround() {\n    var x = 0;\n    var y = 0;\n    for (var i = 0; i < window.levelHeight; i++) {\n        for (var j = 0; j < window.levelWidth; j++) {\n            // Draw the ground and the obstacles\n            if (window.gamemap[i][j] == 0) {\n                x = (j - i) * (window.tileWidth * window.scalingFac / 2) - (window.tileWidth * window.scalingFac / 2) + window.cam.x;\n                y = (j + i) * (window.tileHeight * window.scalingFac / 2) - 32 * window.scalingFac + window.heightmap[i][j] + window.cam.y;\n                ctx.drawImage(iso_grid_spooky, x, y, 64 * window.scalingFac, 64 * window.scalingFac);\n            } else {\n                x = (j - i) * (window.tileWidth * window.scalingFac / 2) - (window.tileWidth * window.scalingFac / 2) + window.cam.x;\n                y = (j + i) * (window.tileHeight * window.scalingFac / 2) - 64 * window.scalingFac + window.heightmap[i][j] + window.cam.y;\n                ctx.drawImage(iso_obstacle_spooky_box_closed, x, y, 64 * window.scalingFac, 96 * window.scalingFac);\n            }\n        }\n    }\n    x = (j - i) * (window.tileWidth * window.scalingFac / 2) - (window.tileWidth * window.scalingFac / 2) + window.cam.x;\n    y = (j + i) * (window.tileHeight * window.scalingFac / 2) - 32 * window.scalingFac + window.heightmap[i][j] + window.cam.y;\n    ctx.drawImage(iso_highlighted_grid, window.mousePointer.matX * window.tileWidth + window.cam.x,\n        window.mousePointer.matY * window.tileHeight + window.heightmap[window.mousePointer.matX][window.mousePointer.matY] + window.cam.y,\n        64 * window.scalingFac, 32 * window.scalingFac);\n}\n\n/**\n * Draw a number at (x,y)\n * @param title\n * @param num\n * @param x\n * @param y\n */\nfunction drawNumber(title, num, x, y) {\n    ctx.font = \"16px Arial\";\n    ctx.fillStyle = \"#FA58FA\";\n    ctx.fillText(title + num, x, y);\n}\n\n// This be the main game loop\nfunction draw() {\n    // Handle the timing, dt == delta\n    var now = new Date().getTime(),\n        timeDt = now - (time || now);\n    time = now;\n\n    // Clear the canvas and draw stuff\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawGround();\n    window.ghost.draw(timeDt);\n    drawNumber(\"Ghost.pos.matX: \", window.ghost.matX, canvas.width - 195, 40);\n    drawNumber(\"Ghost.pos.matY: \", window.ghost.matY, canvas.width - 195, 60);\n    drawNumber(\"Ghost.pos.pxX: \", window.ghost.pxX, canvas.width - 195, 80);\n    drawNumber(\"Ghost.pos.pxY: \", window.ghost.pxY, canvas.width - 195, 100);\n    drawNumber(\"touchDistX: \", window.touchDistX, 8, 45);\n    drawNumber(\"touchDistY: \", window.touchDistY, 8, 65);\n    drawNumber(\"timeDt: \", timeDt, 8, 85);\n    drawNumber(\"FPS: \", Math.floor(1000 / timeDt), 8, 105);\n    drawNumber(\"pointerMatX: \", window.mousePointer.matX, 8, 135);\n    drawNumber(\"pointerMatY: \", window.mousePointer.matY, 8, 155);\n    // Check for cam movement input\n    var dx = 0;\n    var dy = 0;\n    // Keys\n    if (rightPressed) {\n        dx = -1 * window.cam.ms;\n    }\n    else if (leftPressed) {\n        dx = window.cam.ms;\n    }\n    if (upPressed) {\n        dy = window.cam.ms;\n    }\n    else if (downPressed) {\n        dy = -1 * window.cam.ms;\n    }\n    //Touch\n    if (Math.abs(window.touchDistX) > 45) {\n        if (window.touchDistX > 0) {\n            dx = -1 * window.cam.ms;\n            if (window.touchDistX > window.cam.ms)\n                window.touchDistX -= window.cam.ms;\n            else\n                window.touchDistX = 0;\n        } else {\n            dx = window.cam.ms;\n            if (-1 * window.touchDistX > window.cam.ms)\n                window.touchDistX += window.cam.ms;\n            else\n                window.touchDistX = 0;\n        }\n    }\n    if (Math.abs(window.touchDistY) > 45) {\n        if (window.touchDistY > 0) {\n            dy = -1 * window.cam.ms;\n            //dx = window.touchDistX;\n            if (window.touchDistY > window.cam.ms)\n                window.touchDistY -= window.cam.ms;\n            else\n                window.touchDistY = 0;\n        } else {\n            dy = window.cam.ms;\n            if (-1 * window.touchDistY > window.cam.ms)\n                window.touchDistY += window.cam.ms;\n            else\n                window.touchDistY = 0;\n        }\n    }\n    // Move the cam\n    if (dx != 0 || dy != 0) {\n        window.cam.moveView(dx, dy);\n    }\n\n    // DO IT\n    requestAnimationFrame(draw);\n}\n\n// Initialize everything\ninit();\n// Resize canvas\nresizeCanvas();\n// Start loop\ndraw();\t\n\n// This handles the user input\n\n// Input booleans\nvar rightPressed = false;\nvar leftPressed = false;\nvar upPressed = false;\nvar downPressed = false;\nvar touchStartX = 0;\nvar touchStartY = 0;\nwindow.touchDistX = 0;\nwindow.touchDistY = 0;\n\ndocument.addEventListener(\"keydown\", keyDownHandler, false);\ndocument.addEventListener(\"keyup\", keyUpHandler, false);\ndocument.addEventListener(\"mousemove\", mouseMoveHandler, false);\ndocument.addEventListener(\"touchstart\", touchDown, false);\ndocument.addEventListener(\"touchend\", touchUp, false);\ndocument.addEventListener(\"touchmove\", touchMove, false);\n\ncanvas.addEventListener(\"click\", clickHandler, false);\n\n// CARE - this only works for the current position / sizing of canvas!\nfunction clickHandler(e) {\n    window.clickX = e.pageX - (window.innerWidth - canvas.width) / 2 - window.cam.x;\n    window.clickY = e.pageY - window.cam.y;\n}\n\nfunction keyDownHandler(e) {\n    // right arrow and D\n    if (e.keyCode == 39 || e.keyCode == 68) {\n        rightPressed = true;\n    }\n    // left arrow and A\n    else if (e.keyCode == 37 || e.keyCode == 65) {\n        leftPressed = true;\n    }\n    // up arrow and W\n    if (e.keyCode == 38 || e.keyCode == 87) {\n        upPressed = true;\n    }\n    // down arrow and S\n    else if (e.keyCode == 40 || e.keyCode == 83) {\n        downPressed = true;\n    }\n    // key R - reset the camera offset\n    if (e.keyCode == 82) {\n        window.cam.resetView();\n    }\n}\nfunction keyUpHandler(e) {\n    if (e.keyCode == 39 || e.keyCode == 68) {\n        rightPressed = false;\n    }\n    else if (e.keyCode == 37 || e.keyCode == 65) {\n        leftPressed = false;\n    }\n    if (e.keyCode == 38 || e.keyCode == 87) {\n        upPressed = false;\n    }\n    else if (e.keyCode == 40 || e.keyCode == 83) {\n        downPressed = false;\n    }\n}\n\nfunction mouseMoveHandler(e) {\n    var relativeX = e.clientX - canvas.offsetLeft;\n    var relativeY = e.clientY - canvas.offsetTop;\n    if (relativeX > 0 && relativeX < canvas.width) {\n        if (relativeY > 0 && relativeY < canvas.height) {\n            window.mousePointer.pxX = relativeX;\n            window.mousePointer.pxY = relativeY;\n            window.mousePointer.pxToMat(relativeX, relativeY);\n        }\n    }\n}\n// Handle the touch events\nfunction touchDown(e) {\n    var touchObj = e.changedTouches[0]; // reference first touch point\n    touchStartX = parseInt(touchObj.clientX); // get x position of touch point relative to left edge of browser\n    touchStartY = parseInt(touchObj.clientY); // get y position of touch point relative to left edge of browser\n    e.preventDefault();\n}\nfunction touchUp(e) {\n    window.touchDistX = 0;\n    window.touchDistY = 0;\n    e.preventDefault();\n}\nfunction touchMove(e) {\n    var touchObj = e.changedTouches[0];\n    window.touchDistX = parseInt(touchObj.clientX) - touchStartX;\n    window.touchDistY = parseInt(touchObj.clientY) - touchStartY;\n    e.preventDefault();\n}\n\n"]}